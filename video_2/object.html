<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Player Choice: <span id="pAnswer"></span></h1>
    <h1>Computer Choice: <span id="cAnswer"></span></h1>
    <button id="pRock">Rock</button>
    <button id="pPaper">Paper</button>
    <button id="pScissor">Scissor</button>
    <button id="reset">Reset</button>
    <h1>Player's Points: <span id="playerResult">0</span></h1>
    <h1>Computer's Points: <span id="computerResult">0</span></h1>
    <h1>Tie: <span id="tie">0</span></h1>

<script>
    var rock = document.getElementById('pRock');
    var paper = document.getElementById('pPaper');
    var scissor = document.getElementById('pScissor');
    var playerResult = document.getElementById('playerResult');
    var computerResult = document.getElementById('computerResult');
    var pAnswer = document.getElementById('pAnswer');
    var cAnswer = document.getElementById('cAnswer');
    var tie = document.getElementById('tie')
    var reset = document.getElementById('reset');
    var playerChoice;
    var score = {
        player : 0,
        computer : 0,
        tie : 0
    }
    console.log(localStorage.getItem('message'));

    rock.addEventListener('click', function(){
        pAnswer.innerHTML = "Rock"
        playerChoice = 1; 
        var computerChoiceResult = computerChoice();//rock
        checkResult(computerChoiceResult);


    }) ;
    
    paper.addEventListener('click', function(){
        pAnswer.innerHTML = "Paper"
        playerChoice = 2;
        var computerChoiceResult = computerChoice(); //paper
        checkResult(computerChoiceResult);
    }) ;

    scissor.addEventListener('click', function(){
        pAnswer.innerHTML = "Scissor"
        playerChoice = 3;
        var computerChoiceResult = computerChoice(); //scissor
        checkResult(computerChoiceResult);
    }) ;
    reset.addEventListener('click', function() {
        score.player = 0;
        score.computer = 0;
        score.tie = 0;
        playerResult.innerHTML = score.player.toString();
        computerResult.innerHTML = score.computer.toString();
        tie.innerHTML = score.tie.toString();
    });


    function computerChoice() { // this will return a random rock paper scissor as string as output
        var random = Math.random();
        if (random >= 0 && random < 1/3 ) {
            cAnswer.innerHTML = 'Rock';
            return 1; //rock
        }
        else if (random >= 1/3 && random < 2/3 ) {
            cAnswer.innerHTML = 'Paper';
            return 2;  //paper
        } 
        else {
            cAnswer.innerHTML = 'Scissor';
            return 3;  //scissor
        }
        checkResult();
    }

    function checkResult(computerChoiceResult) {
        // Rename the variable to avoid shadowing
    if (playerChoice == computerChoiceResult) {
        score.tie++;
        tie.innerHTML = score.tie.toString();
    }
    else {
        if ((playerChoice == 1 && computerChoiceResult == 3) || 
            (playerChoice == 2 && computerChoiceResult == 1) || 
            (playerChoice == 3 && computerChoiceResult == 2)) {
            score.player ++;
            playerResult.innerHTML = score.player.toString();
        }
        else {  
            score.computer++;
            computerResult.innerHTML = score.computer.toString();
        }
    }
    localStorage.setItem('message','hello'); 
}
</script>
</body>
</html>